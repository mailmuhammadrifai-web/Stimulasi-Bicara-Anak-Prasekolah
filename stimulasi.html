<!DOCTYPE html>
<html lang="id">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Stimulasi Anak 3 Tahun - Belajar Kata</title>
    <style>
        :root {
            --primary-orange: #FF6B35;
            --bg-blue: #4facfe;
            --card-white: rgba(255, 255, 255, 0.9);
        }

        body, html {
            margin: 0; padding: 0;
            font-family: 'Arial Rounded MT Bold', sans-serif;
            background: linear-gradient(to bottom, #4facfe 0%, #00f2fe 100%);
            min-height: 100vh;
            text-align: center; color: white;
        }

        .container { padding: 20px; max-width: 500px; margin: auto; }

        .header h1 {
            background: #FFADAD; padding: 10px 20px;
            border-radius: 30px; display: inline-block;
            box-shadow: 0 5px 0 #ff8a8a; font-size: 1.8rem;
        }

        .point-badge {
            background: #FFD93D; color: #333;
            padding: 5px 15px; border-radius: 20px;
            font-weight: bold; margin: 10px 0; display: inline-block;
        }

        .category-tabs {
            display: flex; flex-wrap: wrap; justify-content: center;
            gap: 10px; margin: 20px 0;
        }
        .tab {
            padding: 10px 15px; border-radius: 20px; border: none;
            cursor: pointer; font-weight: bold; font-size: 0.9rem;
            transition: transform 0.2s;
        }
        .tab:active { transform: scale(0.9); }
        .tab-hewan { background: #FF6B35; color: white; }
        .tab-buah { background: #FFD93D; color: #333; }
        .tab-kendaraan { background: #6BCB77; color: white; }
        .tab-warna { background: #4D96FF; color: white; }

        .word-grid {
            display: grid; grid-template-columns: 1fr 1fr;
            gap: 15px; margin-top: 10px;
        }
        .word-card {
            background: white; border-radius: 25px;
            padding: 20px; cursor: pointer; border: 4px solid transparent;
            transition: 0.3s;
        }
        .word-card:active { transform: scale(0.95); }
        
        .emoji-display {
            font-size: 4rem;
            display: block;
            margin-bottom: 10px;
        }
        .word-card p { color: #333; margin: 5px 0 0; font-weight: bold; font-size: 1.1rem; }

        .control-panel {
            background: var(--primary-orange); margin-top: 25px;
            border-radius: 30px; padding: 25px; display: none;
            box-shadow: 0 8px 20px rgba(0,0,0,0.2);
        }
        #selected-emoji { font-size: 5rem; margin-bottom: 10px; display: block; }

        .btn-action {
            background: white; color: #333; border: none;
            padding: 12px 20px; border-radius: 15px;
            font-weight: bold; margin: 8px; cursor: pointer;
            box-shadow: 0 4px 0px #ddd;
        }
        .btn-action:active { transform: translateY(3px); box-shadow: none; }

        .overlay {
            display: none; position: fixed; top: 0; left: 0;
            width: 100%; height: 100%; background: rgba(0,0,0,0.7);
            z-index: 100; flex-direction: column; justify-content: center; align-items: center;
        }
        .popup {
            background: white; padding: 30px; border-radius: 30px;
            width: 80%; max-width: 350px; color: #333;
        }
        .star-icon { font-size: 80px; margin-bottom: 10px; }
    </style>
</head>
<body>

<div class="container">
    <div class="header"><h1>BELAJAR KATA</h1></div>
    <p>Ayo pilih gambar yang kamu lihat!</p>
    
    <div class="point-badge">Poin Kamu: <span id="current-points">0</span> / 10</div>

    <div class="category-tabs">
        <button class="tab tab-hewan" onclick="showCategory('hewan')">Hewan üêà</button>
        <button class="tab tab-buah" onclick="showCategory('buah')">Buah üçé</button>
        <button class="tab tab-kendaraan" onclick="showCategory('kendaraan')">Kendaraan üöó</button>
        <button class="tab tab-warna" onclick="showCategory('warna')">Warna üî¥</button>
    </div>

    <div id="word-display" class="word-grid"></div>

    <div id="control-panel" class="control-panel">
        <span id="selected-emoji"></span>
        <h2 id="selected-name" style="margin: 0 0 15px; color: white; text-transform: uppercase;">Nama</h2>
        <button class="btn-action" onclick="putarSuaraItem()">üîä Ulangi Suara</button>
        <button class="btn-action" style="background: #2ecc71; color: white; box-shadow: 0 4px 0px #27ae60;" onclick="ucapanBenar()">‚úÖ Ucapan Benar</button>
    </div>

    <button class="btn-action" style="margin-top:20px; background: #eee;" onclick="location.href='pilihusiastimulasi.html'">Kembali</button>
</div>

<audio id="audio-item"></audio>
<audio id="audio-benar" src="sudahjawab.mp3"></audio>

<div id="popup-hebat" class="overlay">
    <div class="popup">
        <div class="star-icon">‚≠ê</div>
        <h2 style="color: #FF6B35;">Kamu Hebat!</h2>
        <p>Teruskan belajar ya!</p>
        <button class="btn-action" style="background: var(--primary-orange); color: white; width: 100%;" onclick="closePopup()">Oke, Lanjutkan</button>
    </div>
</div>

<div id="popup-hadiah" class="overlay">
    <div class="popup">
        <div class="star-icon">üéÅ</div>
        <h2 style="color: #E67E22;">Selamat!</h2>
        <p>Kamu mendapatkan hadiah poin karena sudah menjawab 10 kata dengan benar!</p>
        <button class="btn-action" style="background: #3498db; color: white; width: 100%;" onclick="location.href='dashboard.html'">Halaman Dashboard</button>
        <button class="btn-action" style="background: #2ecc71; color: white; width: 100%;" onclick="resetPoin()">Lanjutkan Permainan</button>
    </div>
</div>

<script>
    const data = {
        hewan: [
            {n: 'Kucing', icon: 'üêà'},
            {n: 'Monyet', icon: 'üêí'},
            {n: 'Katak', icon: 'üê∏'},
            {n: 'Bebek', icon: 'ü¶Ü'}
        ],
        buah: [
            {n: 'Apel', icon: 'üçé'},
            {n: 'Anggur', icon: 'üçá'},
            {n: 'Pisang', icon: 'üçå'},
            {n: 'Jeruk', icon: 'üçä'}
        ],
        kendaraan: [
            {n: 'Motor', icon: 'üõµ'},
            {n: 'Sepeda', icon: 'üö≤'},
            {n: 'Mobil', icon: 'üöó'},
            {n: 'Kereta', icon: 'üöù'}
        ],
        warna: [
            {n: 'Kuning', icon: 'üü®'},
            {n: 'Hijau', icon: 'üü©'},
            {n: 'Biru', icon: 'üü¶'},
            {n: 'Merah', icon: 'üü•'}
        ]
    };

    let points = 0;
    let currentSelectedItem = null;

    function showCategory(cat) {
        const grid = document.getElementById('word-display');
        grid.innerHTML = '';
        document.getElementById('control-panel').style.display = 'none';

        data[cat].forEach(item => {
            const card = document.createElement('div');
            card.className = 'word-card';
            card.innerHTML = `<span class="emoji-display">${item.icon}</span><p>${item.n}</p>`;
            card.onclick = () => selectWord(item);
            grid.appendChild(card);
        });
    }

    function selectWord(item) {
        currentSelectedItem = item;
        document.getElementById('control-panel').style.display = 'block';
        document.getElementById('selected-emoji').innerText = item.icon;
        document.getElementById('selected-name').innerText = item.n;
        
        // Putar suara item secara otomatis saat diklik
        putarSuaraItem();

        window.scrollTo({
            top: document.body.scrollHeight,
            behavior: 'smooth'
        });
    }

    function putarSuaraItem() {
        if (currentSelectedItem) {
            const audioPlayer = document.getElementById('audio-item');
            // Mengubah nama file menjadi huruf kecil (kucing.mp3)
            const fileName = currentSelectedItem.n.toLowerCase() + '.mp3';
            audioPlayer.src = fileName;
            audioPlayer.play().catch(e => console.log("File audio tidak ditemukan: " + fileName));
        }
    }

    function ucapanBenar() {
        points++;
        document.getElementById('current-points').innerText = points;
        
        // Putar suara ucapan benar
        const audioBenar = document.getElementById('audio-benar');
        audioBenar.play();

        if (points >= 10) {
            document.getElementById('popup-hadiah').style.display = 'flex';
        } else {
            document.getElementById('popup-hebat').style.display = 'flex';
        }
    }

    function closePopup() {
        document.getElementById('popup-hebat').style.display = 'none';
        document.getElementById('control-panel').style.display = 'none';
    }

    function resetPoin() {
        points = 0;
        document.getElementById('current-points').innerText = points;
        document.getElementById('popup-hadiah').style.display = 'none';
        document.getElementById('control-panel').style.display = 'none';
    }

    showCategory('hewan');
</script>

</body>
</html>