<!DOCTYPE html>
<html lang="id">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>KPSP 60 Bulan</title>
    <style>
        :root {
            --primary-orange: #E67E22;
            --text-blue: #3498db;
            --shadow-blue: #2980b9;
        }

        body, html {
            margin: 0; padding: 0;
            font-family: 'Arial Rounded MT Bold', sans-serif;
            background: linear-gradient(to bottom, #4facfe 0%, #00f2fe 100%);
            height: 100%;
            overflow-x: hidden;
        }

        .container {
            width: 90%; max-width: 500px;
            margin: 20px auto;
            padding-bottom: 50px;
        }

        .header { text-align: center; margin-bottom: 20px; }
        .header h1 { 
            color: var(--primary-orange); 
            font-size: 1.5rem; 
            -webkit-text-stroke: 0.8px white;
            text-shadow: 2px 2px 0px #A04000;
        }

        .tool-box {
            background: #fff; padding: 15px;
            border-radius: 15px; margin-bottom: 20px;
            font-size: 0.9rem; border: 2px solid var(--text-blue);
        }

        .question-card {
            background: white; border-radius: 20px;
            padding: 20px; margin-bottom: 15px;
            box-shadow: 0 4px 10px rgba(0,0,0,0.1);
        }

        .question-text { font-size: 1rem; color: #333; margin-bottom: 15px; line-height: 1.4; }
        
        .options { display: flex; gap: 10px; }
        .btn-opt {
            flex: 1; padding: 10px; border-radius: 10px;
            border: 2px solid #ddd; background: #f9f9f9;
            cursor: pointer; font-weight: bold; transition: 0.2s;
        }

        .btn-opt.selected-ya { background: #2ecc71; color: white; border-color: #27ae60; }
        .btn-opt.selected-tidak { background: #e74c3c; color: white; border-color: #c0392b; }

        .result-box {
            display: none; background: white; padding: 25px;
            border-radius: 20px; text-align: center;
            border: 4px solid var(--primary-orange);
        }

        .btn-main {
            width: 100%; padding: 15px; background: var(--primary-orange);
            color: white; border: none; border-radius: 25px;
            font-size: 1.2rem; font-weight: bold; cursor: pointer;
            margin-top: 10px; box-shadow: 0 4px 0 #A04000;
        }

        .btn-main:active { transform: translateY(3px); box-shadow: none; }
    </style>
</head>
<body>

<div class="container">
    <div class="header">
        <h1>Kuesioner KPSP<br>Umur 60 Bulan (5 Tahun)</h1>
    </div>

    <div class="tool-box">
        <strong>Alat yang dibutuhkan:</strong><br>
        • Kertas warna-warni<br>
        • Kertas & Pensil
    </div>

    <div id="quiz-container">
        </div>

    <button class="btn-main" onclick="hitungHasil()">Cek Hasil Penilaian</button>

    <div id="result" class="result-box">
        <h2 id="result-score">Skor: 0</h2>
        <p id="result-desc" style="font-weight: bold;"></p>
        <p id="result-info"></p>
        <button class="btn-main" style="background: var(--text-blue); box-shadow: 0 4px 0 var(--shadow-blue);" onclick="location.href='screening.html'">Kembali</button>
    </div>
</div>

<script>
const pertanyaan = [
    { q: "Gambarkan dua garis dengan panjang berbeda. Tunjukkan kepada anak dan tanyakan: 'Mana garis yang lebih panjang?' Minta anak menunjuk garis yang lebih panjang. Putar lembar dan ulangi pertanyaan. Apakah anak dapat menunjuk garis yang lebih panjang sebanyak 3 kali dengan benar?", cat: "Gerak halus" },
    { q: "Berikan anak pensil dan kertas, lalu katakan: \"Buatlah gambar orang\" (anak laki-laki, perempuan, papa, mama, dll). Jangan memberi petunjuk lebih lanjut. Hitung bagian tubuh yang tergambar (bagian berpasangan seperti mata, telinga, tangan, kaki dinilai 1 bagian per pasang). Dapatkah anak menggambar orang dengan setidaknya 3 bagian tubuh?", cat: "Gerak halus" },
    { q: "Minta anak untuk menyebutkan 4 warna dari kertas warna-warni yang disediakan. Dapatkah anak menyebut keempat warna tersebut dengan benar??", cat: "Bicara & Bahasa" },
    { q: "Tanyakan kepada anak: 1) \"Apa yang kamu lakukan saat kedinginan?\" (jawaban: pakai jaket, selimut), 2) \"Apa yang kamu lakukan saat kelelahan?\" (jawaban: tidur, istirahat), 3) \"Apa yang kamu lakukan saat lapar?\" (jawaban: makan), 4) \"Apa yang kamu lakukan saat haus?\" (jawaban: minum). Dapatkah anak menjawab 3 pertanyaan terkait kebutuhan tersebut dengan benar??", cat: "Bicara & Bahasa" },
    { q: "Tanyakan kepada orang tua/pengasuh: Apakah anak dapat mengancingkan bajunya atau pakaian lainnya?", cat: "Sosialisasi & Kemandirian" },
    { q: "Tanyakan kepada orang tua/pengasuh: Apakah anak bereaksi dengan tenang dan tidak rewel (tanpa menangis atau menggigit) saat ditinggal oleh orang tua/pengasuh?", cat: "Sosialisasi & Kemandirian" },
    { q: "Dapatkah anak berpakaian sendiri sepenuhnya tanpa dibantu?", cat: "Sosialisasi & Kemandirian" },
    { q: "Minta anak mengikuti perintah: 1) \"Ambil benda dan letakkan di atas meja\", 2) \"Ambil benda dan letakkan di bawah meja\", 3) \"Ambil benda dan letakkan di dalam laci\", 4) \"Ambil benda dan letakkan di samping ibu\", 5) \"Ambil benda dan letakkan di belakang ibu\". Dapatkah anak melakukan setidaknya 4 perintah (memahami 4 kata depan)?", cat: "Bicara & Bahasa" },
    { q: "Minta anak berdiri 1 kaki tanpa berpegangan. Beri kesempatan 3 kali. Dapatkah ia mempertahankan keseimbangan dalam waktu 4 detik atau lebih?", cat: "Gerak kasar" },
    { q: "Minta anak melompat dengan 1 kaki beberapa kali tanpa berpegangan (lompatan dengan 2 kaki tidak dinilai). Dapatkah anak melompat 2-3 kali dengan 1 kaki?", cat: "Gerak kasar" }
];

let jawaban = Array(10).fill(null);

function renderQuiz() {
    const container = document.getElementById('quiz-container');
    pertanyaan.forEach((item, index) => {
        container.innerHTML += `
            <div class="question-card">
                <p class="question-text"><strong>${index+1}.</strong> ${item.q}</p>
                <div class="options">
                    <button class="btn-opt" id="ya-${index}" onclick="setJawaban(${index}, 1)">Ya</button>
                    <button class="btn-opt" id="tdk-${index}" onclick="setJawaban(${index}, 0)">Tidak</button>
                </div>
            </div>
        `;
    });
}

function setJawaban(idx, val) {
    jawaban[idx] = val;
    document.getElementById(`ya-${idx}`).className = val === 1 ? 'btn-opt selected-ya' : 'btn-opt';
    document.getElementById(`tdk-${idx}`).className = val === 0 ? 'btn-opt selected-tidak' : 'btn-opt';
}

function hitungHasil() {
    if (jawaban.includes(null)) {
        alert("Mohon jawab semua pertanyaan terlebih dahulu!");
        return;
    }

    const skor = jawaban.reduce((a, b) => a + b, 0);
    const resBox = document.getElementById('result');
    const scoreText = document.getElementById('result-score');
    const descText = document.getElementById('result-desc');
    const infoText = document.getElementById('result-info');

    scoreText.innerText = "Total Skor 'Ya': " + skor;
    resBox.style.display = 'block';
    window.scrollTo(0, document.body.scrollHeight);

    if (skor >= 9) {
        descText.innerText = "HASIL: SESUAI (S)";
        descText.style.color = "#2ecc71";
        infoText.innerText = "Perkembangan anak sesuai usia. Teruskan stimulasi harian dan berikan pujian!";
    } else if (skor >= 7) {
        descText.innerText = "HASIL: MERAGUKAN (M)";
        descText.style.color = "#f1c40f";
        infoText.innerText = "Berikan stimulasi lebih sering pada poin yang dijawab 'Tidak' selama 2 minggu, lalu ulangi tes. Jika tetap, hubungi tenaga kesehatan.";
    } else {
        descText.innerText = "HASIL: PENYIMPANGAN (P)";
        descText.style.color = "#e74c3c";
        infoText.innerText = "Segera konsultasikan dengan Dokter Spesialis Anak atau fasilitas kesehatan terdekat untuk pemeriksaan lebih lanjut.";
    }
}

renderQuiz();
</script>
</body>
</html>
